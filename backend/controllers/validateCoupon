import { body, validationResult } from 'express-validator';

// Validation chain - for ensuring user pass in right stuff
const validateCoupon = [
  body('couponName').notEmpty().withMessage('Coupon name is required'),
  body('couponName').isString().withMessage('Coupon name must be a worded text'),

  body('discount').notEmpty().withMessage('Discount type is required'),
  body('discount').isIn(['flat', 'percentage']).withMessage('Discount must be either "flat" or "percentage"'),

  body('description').notEmpty().withMessage('Description is required'),

  body('termsConditions').notEmpty().withMessage('Terms & Conditions is required'),

  body('category').notEmpty().withMessage('Category is required'),

  body('totalNum').isInt({ min: 1 }).notEmpty().withMessage('Number of coupons must be a positive integer'),

  body('expiryDate').isISO8601().withMessage('Expiry Date must be a valid date (YYYY-MM-DD)')

];


export default validateCoupon;